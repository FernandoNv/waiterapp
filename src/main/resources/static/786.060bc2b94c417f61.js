"use strict";(self.webpackChunkWaiterApp=self.webpackChunkWaiterApp||[]).push([[786],{5786:(me,D,c)=>{c.r(D),c.d(D,{ClienteModule:()=>de});var r=c(6895),m=c(3060),P=c(4004),t=c(4650),Y=c(8951);let F=(()=>{class e{constructor(o,i){this.authService=o,this.router=i}canActivate(o,i){return this.authService.isClienteLogado().pipe((0,P.U)(a=>a||this.router.createUrlTree(["/cliente/login"])))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(Y.e),t.LFG(m.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=c(7579),_=c(2722),p=c(5938),g=c(4859),l=c(3626),Z=c(7392);function nt(e,n){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Nome"),t.qZA())}function it(e,n){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.item.nome)}}function at(e,n){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Quantidade"),t.qZA())}function ct(e,n){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.quantidade)}}function st(e,n){1&e&&(t.TgZ(0,"th",13),t._uU(1,"A\xe7\xf5es"),t.qZA())}function rt(e,n){1&e&&(t.TgZ(0,"td",14)(1,"button",15)(2,"mat-icon"),t._uU(3,"delete"),t.qZA(),t._uU(4," remover "),t.qZA()())}function lt(e,n){1&e&&t._UZ(0,"tr",16)}function dt(e,n){1&e&&t._UZ(0,"tr",17)}let k=(()=>{class e{constructor(o,i){this.dialogRef=o,this.data=i,this.displayedColumns=["nome","quantidade","acoes"]}ngOnInit(){}onClick(){this.dialogRef.close()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.so),t.Y36(p.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],decls:19,vars:3,consts:[[1,"container","cart-container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-table","",3,"dataSource"],["matColumnDef","nome"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","quantidade"],["matColumnDef","acoes"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"width","100%"],["mat-raised-button","","color","accent",3,"click"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-raised-button","","color","warn",1,"mx-3"],["mat-header-row",""],["mat-row",""]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Items do pedido"),t.qZA(),t.TgZ(3,"div",2)(4,"table",3),t.ynx(5,4),t.YNc(6,nt,2,0,"th",5),t.YNc(7,it,2,1,"td",6),t.BQk(),t.ynx(8,7),t.YNc(9,at,2,0,"th",5),t.YNc(10,ct,2,1,"td",6),t.BQk(),t.ynx(11,8),t.YNc(12,st,2,0,"th",5),t.YNc(13,rt,5,0,"td",6),t.BQk(),t.YNc(14,lt,1,0,"tr",9),t.YNc(15,dt,1,0,"tr",10),t.qZA()(),t.TgZ(16,"mat-dialog-actions",11)(17,"button",12),t.NdJ("click",function(){return i.onClick()}),t._uU(18,"Fechar"),t.qZA()()()),2&o&&(t.xp6(4),t.Q6J("dataSource",i.data),t.xp6(10),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[g.lW,p.uh,p.xY,p.H8,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,Z.Hw],styles:["[_nghost-%COMP%]{display:block}.cart-container[_ngcontent-%COMP%]{width:700px;display:block}.cart-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),e})();var A=c(1135),I=c(8746),v=c(3151),M=c(2340),q=c(529);const pt={id:Number(window.localStorage.getItem("app:cliente:id")),nome:String(window.localStorage.getItem("app:cliente:nome")),cpf:String(window.localStorage.getItem("app:cliente:cpf")),dataCriacao:new Date(Number(window.localStorage.getItem("app:cliente:dataCriacao"))),email:String(window.localStorage.getItem("app:cliente:email"))};let U=(()=>{class e{constructor(o,i){this.authService=o,this.httpClient=i,this.baseUrl=`${M.N.apiUrl}`,this.loadingSubject=new A.X(!1),this.clienteLogadoSubject=new A.X(pt)}cadastrarCliente(o){this.loadingSubject.next(!0);const i=this.authService.cadastrarCliente(o);return i.subscribe({next:a=>{this.clienteLogadoSubject.next(a),this.loadingSubject.next(!1)},error:()=>this.loadingSubject.next(!1)}),i}isClienteLogado(){return this.authService.isClienteLogado()}isLoading(){return this.loadingSubject.asObservable()}clienteLogado(){return this.clienteLogadoSubject.asObservable()}cadastrarPedido(o){return this.loadingSubject.next(!0),this.httpClient.post(`${this.baseUrl}/pedidos/`,o).pipe((0,I.x)(()=>this.loadingSubject.next(!1)),(0,v.d)())}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(Y.e),t.LFG(q.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function mt(e,n){if(1&e&&(t.TgZ(0,"section",9)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"date"),t.qZA()()),2&e){const o=n.ngIf;t.xp6(2),t.hij("Nome: ",o.nome,""),t.xp6(2),t.hij("CPF: ",o.cpf,""),t.xp6(2),t.hij("Data de Cadastro: ",t.xi3(7,3,o.dataCriacao,"dd/MM/yyyy"),"")}}let N=(()=>{class e{constructor(o,i,a){this.clienteService=o,this.dialog=i,this.router=a,this.itensPedido=[],this.valorTotalPedido=0,this.destroy$=new x.x,this.clienteLogado$=this.clienteService.clienteLogado(),this.clienteLogado$.pipe((0,_.R)(this.destroy$)).subscribe(s=>{this.clienteLogado=s})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngOnInit(){}onCartClick(){console.log(this.itensPedido),this.dialog.open(k,{data:this.itensPedido}).afterClosed().subscribe(i=>{console.log("fechei o carrinho")})}addItemPedido(o){this.itensPedido.push(o),this.valorTotalPedido=this.itensPedido.reduce((i,a)=>i+a.item.preco*a.quantidade,0)}fazerPedido(){const o={cliente:{id:Number(this.clienteLogado?.id),dataCriacao:this.clienteLogado?.dataCriacao},items:this.itensPedido};console.log(o),this.clienteService.cadastrarPedido(o).pipe((0,_.R)(this.destroy$)).subscribe({next:i=>{console.log(i),this.router.navigate(["/cliente/lista-pedidos"])},error:()=>{console.log("Erro ao fazer o pedido")}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(U),t.Y36(p.uw),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cliente-fazer-pedido"]],decls:19,vars:8,consts:[[1,"app-fazer-pedido"],[1,"row"],["class","col-lg-2 informacoes-cliente p-4",4,"ngIf"],[1,"col-lg-10","conteudo"],[1,"row","px-3"],["matBadgeColor","accent","mat-raised-button","","color","primary",2,"width","64px",3,"matBadge","click"],[1,"row","py-3",3,"app-add-item-pedido"],[1,"container","row","py-3","d-flex","justify-content-end","text-end"],["mat-raised-button","","color","primary",2,"width","160px",3,"disabled","click"],[1,"col-lg-2","informacoes-cliente","p-4"]],template:function(o,i){1&o&&(t.TgZ(0,"app-layout")(1,"div",0)(2,"div",1),t.YNc(3,mt,8,6,"section",2),t.ALo(4,"async"),t.TgZ(5,"section",3)(6,"div",4)(7,"button",5),t.NdJ("click",function(){return i.onCartClick()}),t.TgZ(8,"mat-icon"),t._uU(9,"shopping_cart"),t.qZA()()(),t.TgZ(10,"app-lista-item",6),t.NdJ("app-add-item-pedido",function(s){return i.addItemPedido(s)}),t.qZA(),t.TgZ(11,"div",7)(12,"h3"),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"button",8),t.NdJ("click",function(){return i.fazerPedido()}),t.TgZ(16,"mat-icon"),t._uU(17,"checkout"),t.qZA(),t._uU(18," Finalizar Pedido"),t.qZA()()()()()()),2&o&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,4,i.clienteLogado$)),t.xp6(4),t.Q6J("matBadge",i.itensPedido.length),t.xp6(6),t.hij("Valor total: ",t.lcZ(14,6,i.valorTotalPedido),""),t.xp6(2),t.Q6J("disabled",!i.itensPedido.length))},styles:["[_nghost-%COMP%]{display:block}.app-fazer-pedido[_ngcontent-%COMP%]{height:100%;width:100%}"]}),e})();var O=c(1184),ut=c(4482),J=c(5403),gt=c(4671),ft=c(5963),ht=c(8421);function L(e=1/0){let n;n=e&&"object"==typeof e?e:{count:e};const{count:o=1/0,delay:i,resetOnSuccess:a=!1}=n;return o<=0?gt.y:(0,ut.e)((s,d)=>{let f,T=0;const b=()=>{let tt=!1;f=s.subscribe((0,J.x)(d,S=>{a&&(T=0),d.next(S)},void 0,S=>{if(T++<o){const et=()=>{f?(f.unsubscribe(),f=null,b()):tt=!0};if(null!=i){const pe="number"==typeof i?(0,ft.H)(i):(0,ht.Xf)(i(S,T)),ot=(0,J.x)(d,()=>{ot.unsubscribe(),et()},()=>{d.complete()});pe.subscribe(ot)}else et()}else d.error(S)})),tt&&(f.unsubscribe(),f=null,b())};b()})}var w=c(1005);let Q=(()=>{class e{constructor(o){this.httpClient=o,this.baseUrl=`${M.N.apiUrl}/pedidos`,this.loadingSubject=new A.X(!1)}listaPedidosByIdCliente(o){this.loadingSubject.next(!0);const a=this.httpClient.get(`${this.baseUrl}/clientes/${o}`).pipe(L(3),(0,w.g)(500),(0,v.d)(),(0,I.x)(()=>this.loadingSubject.next(!1)),(0,P.U)(s=>s.map(d=>({...d,dataCriacao:new Date(d.dataCriacao)}))));return a.subscribe({next:s=>{console.log(s)},error:s=>{console.log("Erro na requisi\xe7\xe3o ",s)}}),a}retornaPedidoById(o){this.loadingSubject.next(!0);const a=this.httpClient.get(`${this.baseUrl}/${o}`).pipe(L(3),(0,w.g)(500),(0,v.d)(),(0,I.x)(()=>this.loadingSubject.next(!1)),(0,P.U)(s=>({...s,dataCriacao:new Date(s.dataCriacao)})));return a.subscribe({next:s=>{console.log(s)},error:s=>{console.log("Erro na requisi\xe7\xe3o ",s)}}),a}deletePedidoById(o){this.loadingSubject.next(!0);const a=this.httpClient.delete(`${this.baseUrl}/${o}`).pipe(L(3),(0,w.g)(500),(0,v.d)(),(0,I.x)(()=>this.loadingSubject.next(!1)));return a.subscribe({next:s=>{console.log(s)},error:s=>{console.log("Erro na requisi\xe7\xe3o ",s)}}),a}isLoading(){return this.loadingSubject.asObservable()}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(q.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=c(1572),$=c(6308);function Ct(e,n){1&e&&(t.TgZ(0,"div",2),t._UZ(1,"mat-spinner"),t.qZA())}function _t(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1,"ID"),t.qZA())}function xt(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.id)}}function Zt(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1,"Data do Pedido"),t.qZA())}function vt(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,o.dataCriacao,"dd/MM/yyyy hh:mm"))}}function yt(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1,"Estado"),t.qZA())}function Tt(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.estado)}}function bt(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1,"Gar\xe7om"),t.qZA())}function Pt(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.garcom?o.garcom.nome:"A ser escolhido")}}function At(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Pre\xe7o Total"),t.qZA())}function It(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.precoTotal))}}function Ut(e,n){1&e&&t._UZ(0,"tr",18)}function Ot(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"tr",19),t.NdJ("click",function(){const s=t.CHM(o).$implicit,d=t.oxw(2);return t.KtG(d.onClickRow(s.id))}),t.qZA()}}const Lt=function(){return[]};function wt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",3)(1,"table",4),t.NdJ("matSortChange",function(a){t.CHM(o);const s=t.oxw();return t.KtG(s.sortData(a))}),t.ynx(2,5),t.YNc(3,_t,2,0,"th",6),t.YNc(4,xt,2,1,"td",7),t.BQk(),t.ynx(5,8),t.YNc(6,Zt,2,0,"th",6),t.YNc(7,vt,3,4,"td",7),t.BQk(),t.ynx(8,9),t.YNc(9,yt,2,0,"th",6),t.YNc(10,Tt,2,1,"td",7),t.BQk(),t.ynx(11,10),t.YNc(12,bt,2,0,"th",6),t.YNc(13,Pt,2,1,"td",7),t.BQk(),t.ynx(14,11),t.YNc(15,At,2,0,"th",12),t.YNc(16,It,3,3,"td",7),t.BQk(),t.YNc(17,Ut,1,0,"tr",13),t.YNc(18,Ot,1,0,"tr",14),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("dataSource",o.pedidos$?o.pedidos$:t.DdM(3,Lt)),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}}let E=(()=>{class e{constructor(o,i,a,s){this.pedidoService=o,this.clienteService=i,this.route=a,this.router=s,this.destroy$=new x.x,this.isLoading=!1,this.displayedColumns=["id","dataCriacao","estado","garcom","precoTotal"],this.loading$=this.pedidoService.isLoading(),this.clienteService.clienteLogado().pipe((0,_.R)(this.destroy$)).subscribe(d=>{this.pedidos$=this.pedidoService.listaPedidosByIdCliente(Number(d.id))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngOnInit(){}onClickRow(o){console.log(o),this.router.navigate(["/cliente/pedido-detalhe/",o])}sortData(o){console.log(o)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Q),t.Y36(U),t.Y36(m.gz),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-lista-pedidos"]],decls:4,vars:6,consts:[["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center"],[1,"row"],["mat-table","","matSort","","matSortDirection","desc","matSortActive","dataCriacao",1,"col",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","dataCriacao"],["matColumnDef","estado"],["matColumnDef","garcom"],["matColumnDef","precoTotal"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by precoTotal","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","rowhover",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by precoTotal",1,"text-center"],["mat-header-row",""],["mat-row","",1,"rowhover",3,"click"]],template:function(o,i){1&o&&(t.YNc(0,Ct,2,0,"div",0),t.ALo(1,"async"),t.YNc(2,wt,19,4,"div",1),t.ALo(3,"async")),2&o&&(t.Q6J("ngIf",t.lcZ(1,2,i.loading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(3,4,i.loading$)))},dependencies:[r.O5,h.Ou,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,$.YE,$.nU,r.Ov,r.H9,r.uU],styles:["[_nghost-%COMP%]{display:block}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{cursor:pointer}  .mat-sort-header-container{display:flex;justify-content:center;align-items:center}.rowhover[_ngcontent-%COMP%]:hover{background-color:#343a40}"]}),e})();function St(e,n){if(1&e&&(t.TgZ(0,"section",4)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"button",5),t._uU(9,"Fazer novo Pedido"),t.qZA()()),2&e){const o=n.ngIf;t.xp6(2),t.hij("Nome: ",o.nome,""),t.xp6(2),t.hij("CPF: ",o.cpf,""),t.xp6(2),t.hij("Data de Cadastro: ",t.xi3(7,3,o.dataCriacao,"dd/MM/yyyy"),"")}}let z=(()=>{class e{constructor(o,i){this.clienteService=o,this.router=i,this.buttonFazerPedidoCliked=!1,this.clienteLogado$=this.clienteService.clienteLogado()}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(U),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cliente-lista-pedidos"]],decls:7,vars:3,consts:[[1,"app-cliente"],[1,"row"],["class","col-lg-2 informacoes-cliente p-4",4,"ngIf"],[1,"col-lg-10","conteudo","p-4"],[1,"col-lg-2","informacoes-cliente","p-4"],["mat-raised-button","","color","warn","routerLink","/cliente/fazer-pedido","routerLinkActive","active"]],template:function(o,i){1&o&&(t.TgZ(0,"app-layout")(1,"div",0)(2,"div",1),t.YNc(3,St,10,6,"section",2),t.ALo(4,"async"),t.TgZ(5,"section",3),t._UZ(6,"app-lista-pedidos"),t.qZA()()()()),2&o&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,1,i.clienteLogado$)))},dependencies:[r.O5,m.rH,m.Od,O.$,E,g.lW,r.Ov,r.uU],styles:["[_nghost-%COMP%]{display:block}.app-cliente[_ngcontent-%COMP%]{height:100%;width:100%}"]}),e})();var u=c(4006),y=c(9549),R=c(4144);function Ft(e,n){1&e&&(t.TgZ(0,"section",1),t._UZ(1,"mat-spinner"),t.qZA())}function Mt(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Oqu(o.getErrorMessage())}}function qt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"section",1)(1,"h1"),t._uU(2,"Fa\xe7a o seu pedido"),t.qZA(),t.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Nome"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-hint"),t._uU(9,"Insira o seu nome"),t.qZA(),t.YNc(10,Mt,2,1,"mat-error",5),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label"),t._uU(13,"CPF"),t.qZA(),t._UZ(14,"input",6),t.TgZ(15,"mat-hint"),t._uU(16,"O CPF \xe9 opcional"),t.qZA()(),t.TgZ(17,"button",7),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.onSubmit())}),t._uU(18,"Continuar"),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(3),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("formControl",o.nomeFormControl),t.xp6(3),t.Q6J("ngIf",o.nomeFormControl.invalid),t.xp6(4),t.Q6J("formControl",o.cpfFormControl),t.xp6(3),t.Q6J("disabled",!o.nomeFormControl.valid)}}let B=(()=>{class e{constructor(o,i,a){this.formBuilder=o,this.clienteService=i,this.router=a,this.nomeFormControl=new u.NI("",[u.kI.required]),this.cpfFormControl=new u.NI(""),this.destroy$=new x.x,this.form=this.formBuilder.group({name:this.nomeFormControl,cpf:this.cpfFormControl}),this.loading$=this.clienteService.isLoading()}ngOnInit(){}getErrorMessage(){return this.nomeFormControl.hasError("required")?"Voc\xea precisa informar o seu nome":"rodei a msg de erro"}onSubmit(){if(this.nomeFormControl.valid){const o={nome:this.nomeFormControl.value?.trim(),cpf:this.cpfFormControl.value&&this.cpfFormControl.value?.trim().length>0?this.cpfFormControl.value:void 0};this.clienteService.cadastrarCliente(o).pipe((0,_.R)(this.destroy$)).subscribe({next:i=>{this.router.navigate(["/cliente"])},error:()=>console.log("Erro na requisicao de cadastro")})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.qu),t.Y36(U),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cliente-login"]],decls:5,vars:6,consts:[["class","section-cliente-login",4,"ngIf"],[1,"section-cliente-login"],[1,"form-login",3,"formGroup"],["appearance","fill"],["matInput","","name","any-nome","required","",3,"formControl"],[4,"ngIf"],["matInput","","name","any-cpf",3,"formControl"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"]],template:function(o,i){1&o&&(t.TgZ(0,"app-layout"),t.YNc(1,Ft,2,0,"section",0),t.ALo(2,"async"),t.YNc(3,qt,19,5,"section",0),t.ALo(4,"async"),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,i.loading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(4,4,i.loading$)))},dependencies:[r.O5,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.oH,u.sg,O.$,y.TO,y.KE,y.bx,y.hX,R.Nt,g.lW,h.Ou,r.Ov],styles:["[_nghost-%COMP%]{display:block}.section-cliente-login[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.section-cliente-login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.section-cliente-login[_ngcontent-%COMP%]   .form-login[_ngcontent-%COMP%]{min-width:200px;max-width:500px;width:100%;display:flex;flex-direction:column;align-items:center}.section-cliente-login[_ngcontent-%COMP%]   .form-login[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .section-cliente-login[_ngcontent-%COMP%]   .form-login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px 0}.section-cliente-login[_ngcontent-%COMP%]   .form-login[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:1.1em}"]}),e})();var Nt=c(3900);let H=(()=>{class e{constructor(o){this.dialogRef=o}ngOnInit(){}onClick(){this.dialogRef.close(!0)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog-confirma-exclusao"]],decls:7,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","warn",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"h1",0),t._uU(1,"Confirmar Exclus\xe3o do Pedido?"),t.qZA(),t.TgZ(2,"div",1)(3,"button",2),t._uU(4,"Close"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.onClick()}),t._uU(6,"Confirmar"),t.qZA()())},dependencies:[g.lW,p.ZT,p.uh,p.H8],styles:["[_nghost-%COMP%]{display:block}"]}),e})();var j=c(6338);function $t(e,n){1&e&&t._UZ(0,"mat-spinner",3)}function jt(e,n){if(1&e&&(t.TgZ(0,"mat-list-item",9)(1,"li"),t._uU(2),t.qZA()()),2&e){const o=n.$implicit;t.xp6(2),t.AsE("",o.item.nome," - Quantidade: ",o.quantidade,"")}}function Dt(e,n){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"h1"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"h3"),t._uU(10),t.qZA()(),t._UZ(11,"br"),t.TgZ(12,"div",6)(13,"h3"),t._uU(14),t.qZA(),t.TgZ(15,"h3"),t._uU(16),t.qZA(),t.TgZ(17,"h3"),t._uU(18),t.qZA(),t.TgZ(19,"h3"),t._uU(20),t.qZA(),t.TgZ(21,"h3"),t._uU(22),t.qZA(),t.TgZ(23,"h3"),t._uU(24),t.qZA(),t.TgZ(25,"h3"),t._uU(26,"Items do pedido: "),t.qZA(),t.TgZ(27,"mat-list"),t.YNc(28,jt,3,2,"mat-list-item",7),t.qZA()(),t.TgZ(29,"button",8),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.onDelete())}),t.TgZ(30,"mat-icon"),t._uU(31,"delete"),t.qZA(),t._uU(32," Excluir pedido "),t.qZA()(),t.BQk()}if(2&e){const o=n.ngIf;t.xp6(4),t.AsE("ID: ",o.id," - Pre\xe7o Total: ",t.lcZ(5,11,o.precoTotal),""),t.xp6(3),t.hij("Data do pedido: ",t.xi3(8,13,o.dataCriacao,"dd/MM/yyyy"),""),t.xp6(3),t.hij("Cliente: ",o.cliente.nome,""),t.xp6(4),t.hij("Estado: ",o.estado,""),t.xp6(2),t.hij("Gar\xe7om: ",o.garcom?o.garcom.nome:"Ainda a escolher",""),t.xp6(2),t.hij("Pagamento: ",o.pagamento?o.pagamento.estadoPagamento:"Ainda n\xe3o pago",""),t.xp6(2),t.hij("Op\xe7\xf5es extras: ",o.opcoesExtras?o.opcoesExtras:"Sem op\xe7\xf5es extra",""),t.xp6(2),t.hij("Nota atendimento: ",o.notaAtendimento?o.notaAtendimento:"Ainda sem nota",""),t.xp6(2),t.hij("Nota pedido: ",o.notaPedido?o.notaPedido:"Ainda sem nota",""),t.xp6(4),t.Q6J("ngForOf",o.items)}}const Yt=[{path:"",redirectTo:"fazer-pedido",pathMatch:"full"},{path:"fazer-pedido",canActivate:[F],component:N},{path:"lista-pedidos",canActivate:[F],component:z},{path:"pedido-detalhe/:id",canActivate:[F],component:(()=>{class e{constructor(o,i,a,s){this.route=o,this.router=i,this.pedidoService=a,this.dialog=s,this.destroy$=new x.x,this.selectedId=-1,this.loading$=a.isLoading(),this.pedido$=this.route.paramMap.pipe((0,Nt.w)(d=>(this.selectedId=Number(d.get("id")),this.pedidoService.retornaPedidoById(this.selectedId))))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngOnInit(){}onDelete(){console.log("abrir modal pra confirmar a exclusao"),this.dialog.open(H).afterClosed().pipe((0,_.R)(this.destroy$)).subscribe(i=>{i&&this.deletePedido()})}deletePedido(){this.pedidoService.deletePedidoById(this.selectedId).pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.router.navigate(["/cliente/lista-pedidos"])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(Q),t.Y36(p.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cliente-pedido"]],decls:6,vars:6,consts:[[1,"container","cliente-pedido"],["class","center-spinner",4,"ngIf"],[4,"ngIf"],[1,"center-spinner"],[1,"row"],[1,"col-12"],[1,"col"],["role","listitem",4,"ngFor","ngForOf"],["color","warn","mat-raised-button","","aria-label","Logout Cliente button",1,"width:",3,"click"],["role","listitem"]],template:function(o,i){1&o&&(t.TgZ(0,"app-layout")(1,"div",0),t.YNc(2,$t,1,0,"mat-spinner",1),t.ALo(3,"async"),t.YNc(4,Dt,33,16,"ng-container",2),t.ALo(5,"async"),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,i.loading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,4,i.pedido$)))},dependencies:[r.sg,r.O5,O.$,g.lW,h.Ou,Z.Hw,j.i$,j.Tg,r.Ov,r.H9,r.uU],styles:["[_nghost-%COMP%]{display:block}.cliente-pedido[_ngcontent-%COMP%]   .center-spinner[_ngcontent-%COMP%]{margin:0 auto}"]}),e})()},{path:"login",component:B}];let kt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(Yt),m.Bz]}),e})();var Jt=c(8634),Qt=c(782),C=c(3546);function Et(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"mat-card",1),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.onClickItem())}),t.TgZ(1,"mat-card-title-group")(2,"mat-card-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"currency"),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(3),t.Oqu(o.item.nome),t.xp6(3),t.Oqu(o.item.descricao),t.xp6(2),t.Oqu(t.lcZ(9,4,o.item.dataCriacao)),t.xp6(3),t.Oqu(t.lcZ(12,6,o.item.preco))}}let X=(()=>{class e{constructor(){this.itemClicked=new t.vpe}ngOnInit(){}onClickItem(){this.itemClicked.emit(this.item)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-item"]],inputs:{item:"item"},outputs:{itemClicked:"app-item-clicked"},decls:1,vars:1,consts:[["class","item-card",3,"click",4,"ngIf"],[1,"item-card",3,"click"]],template:function(o,i){1&o&&t.YNc(0,Et,13,8,"mat-card",0),2&o&&t.Q6J("ngIf",i.item)},dependencies:[r.O5,C.a8,C.C1,C.dn,C.n5,r.H9,r.uU],styles:["[_nghost-%COMP%]{display:block}.item-card[_ngcontent-%COMP%]{min-width:150px;border:2px solid transparent;transition:.2s border}.item-card[_ngcontent-%COMP%]:hover{border:2px solid #c2185b;cursor:pointer}"]}),e})();function zt(e,n){if(1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"h4"),t._uU(6),t.qZA()()),2&e){const o=n.$implicit;t.xp6(2),t.hij(" ",o.nome,""),t.xp6(2),t.hij(" ",o.descricao," "),t.xp6(2),t.hij(" Calorias: ",o.caloria," ")}}function Rt(e,n){if(1&e&&(t.TgZ(0,"span")(1,"h3"),t._uU(2,"Ingredientes:"),t.qZA(),t.YNc(3,zt,7,3,"div",9),t.qZA()),2&e){const o=t.oxw();t.xp6(3),t.Q6J("ngForOf",o.prato.ingredientes)}}function Bt(e,n){if(1&e&&(t.TgZ(0,"span")(1,"h2"),t._uU(2),t.qZA()()),2&e){const o=t.oxw();t.xp6(2),t.hij("Quantidade: ",o.bebida.quantidade,"")}}let W=(()=>{class e{constructor(o,i){this.dialogRef=o,this.data=i,this.isPrato=!1,"quantidade"in i?this.bebida=i:this.prato=i}ngOnInit(){}onClick(){this.dialogRef.close({item:this.data,quantidade:1})}onClose(){this.dialogRef.close()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.so),t.Y36(p.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-item-detalhe"]],decls:22,vars:10,consts:[[1,"row","item-detalhe"],[1,"col"],["mat-dialog-title","",1,"text-center"],["mat-dialog-content","",1,"d-flex","justify-content-center","text-center"],[1,"row"],[4,"ngIf"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"],[4,"ngFor","ngForOf"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",1)(7,"h2"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.YNc(12,Rt,4,1,"span",5),t.YNc(13,Bt,3,1,"span",5),t.TgZ(14,"h2"),t._uU(15),t.ALo(16,"currency"),t.qZA()()()(),t.TgZ(17,"div",6)(18,"button",7),t.NdJ("click",function(){return i.onClose()}),t._uU(19,"Fechar"),t.qZA(),t.TgZ(20,"button",8),t.NdJ("click",function(){return i.onClick()}),t._uU(21,"Adicionar ao carrinho"),t.qZA()()()()),2&o&&(t.xp6(3),t.Oqu(i.data.nome),t.xp6(5),t.hij(" ",i.data.descricao," "),t.xp6(2),t.hij("Data de cadastro: ",t.lcZ(11,6,i.data.dataCriacao),""),t.xp6(2),t.Q6J("ngIf",i.prato),t.xp6(1),t.Q6J("ngIf",i.bebida),t.xp6(2),t.hij("Pre\xe7o: ",t.lcZ(16,8,i.data.preco),""))},dependencies:[r.sg,r.O5,g.lW,r.H9,r.uU],styles:["[_nghost-%COMP%]{display:block}.item-detalhe[_ngcontent-%COMP%]{width:500px}"]}),e})(),Ht=(()=>{class e{constructor(o){this.httpCliente=o,this.loadingSubject=new A.X(!1),this.baseUrl=`${M.N.apiUrl}/itens`}listaItems(){const o=`${this.baseUrl}`;this.loadingSubject.next(!0);const i=this.httpCliente.get(o).pipe((0,w.g)(1e3),L(3),(0,P.U)(a=>a.map(d=>"quantidade"in d?this.fixDate(d):{...this.fixDate(d),ingredientes:d.ingredientes.map(b=>this.fixDate(b))})),(0,v.d)());return i.subscribe({next:a=>{this.loadingSubject.next(!1),console.log(a)},error:()=>this.loadingSubject.next(!1)}),i}fixDate(o){return{...o,dataCriacao:new Date(o.dataCriacao),descricao:null===o.descricao||0===o.descricao.length?"Sem descri\xe7\xe3o":o.descricao}}isLoading(){return this.loadingSubject.asObservable()}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(q.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Gt(e,n){1&e&&(t.TgZ(0,"div",3),t._UZ(1,"mat-spinner"),t.qZA())}function Xt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",4)(1,"app-item",5),t.NdJ("app-item-clicked",function(a){t.CHM(o);const s=t.oxw();return t.KtG(s.clickItem(a))}),t.qZA()()}if(2&e){const o=n.$implicit;t.xp6(1),t.Q6J("item",o)}}let K=(()=>{class e{constructor(o,i){this.itemService=o,this.dialog=i,this.destroy$=new x.x,this.addItemPedidoEmitter=new t.vpe,this.loading$=this.itemService.isLoading(),this.listaItem$=this.itemService.listaItems()}ngOnInit(){}clickItem(o){this.dialog.open(W,{data:o}).afterClosed().subscribe(a=>{a&&this.addItemPedidoEmitter.emit(a)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Ht),t.Y36(p.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-lista-item"]],outputs:{addItemPedidoEmitter:"app-add-item-pedido"},decls:5,vars:6,consts:[["class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"row"],["class","col-lg-3 py-3 py-lg-0",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-center"],[1,"col-lg-3","py-3","py-lg-0"],[3,"item","app-item-clicked"]],template:function(o,i){1&o&&(t.YNc(0,Gt,2,0,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.YNc(3,Xt,2,1,"div",2),t.ALo(4,"async"),t.qZA()),2&o&&(t.Q6J("ngIf",t.lcZ(1,2,i.loading$)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,4,i.listaItem$)))},dependencies:[r.sg,r.O5,h.Ou,X,r.Ov],styles:["[_nghost-%COMP%]{display:block}"]}),e})();const Wt=[h.Cq,C.QW,g.ot],Kt=[r.ez];let Vt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Kt,Wt]}),e})();const te=[r.ez],ee=[C.QW,g.ot,p.Is,l.p0,Z.Ps];let oe=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[te,ee]}),e})();var V=c(2673);const ie=[h.Cq,l.p0,$.JX,g.ot],ae=[r.ez,m.Bz],se=[r.ez,m.Bz,kt,u.UX],re=[Jt.x,Vt,oe,(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[ae,ie]}),e})()],le=[R.c,y.lN,g.ot,h.Cq,Qt.N6,C.QW,Z.Ps,p.Is,V.g,p.Is,j.ie];let de=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[se,re,le]}),e})();t.B6R(N,[r.O5,O.$,K,g.lW,Z.Hw,V.k],[r.Ov,r.H9,r.uU])}}]);